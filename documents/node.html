<!--
title: Build Steps for Node.js on OpenWRT
description: 
published: true
date: 2023-12-27T10:27:31.144Z
tags: 
editor: code
dateCreated: 2023-12-19T11:13:14.372Z
-->

<h1 class="toc-header" id="prerequisites"> Prerequisites:</h1>
<ul>
<li>Ensure you have a toolchain for OpenWRT.</li>
</ul>
<h1 class="toc-header" id="procedure"> Procedure:</h1>
<h2 class="toc-header" id="h-1-clone-the-nodejs-repository"> 1. Clone the Node.js repository:</h2>
<pre v-pre="true" class="prismjs line-numbers"><code class="language-"> git clone https://github.com/nodejs/node.git
</code></pre>
<h2 class="toc-header" id="h-2-checkout-the-v1800-release"> 2. Checkout the v18.0.0 release:</h2>
<pre v-pre="true" class="prismjs line-numbers"><code class="language-"> git checkout v18.0.0
</code></pre>
<h2 class="toc-header" id="h-3-set-the-environment-values"> 3. Set the environment values:</h2>
<pre v-pre="true" class="prismjs line-numbers"><code class="language-"> CC=riscv64-unknown-linux-gnu-gcc CXX=riscv64-unknown-linux-gnu-g++ CC_host=gcc CXX_host=g++ ./configure --dest-cpu=riscv64 --cross-compiling --dest-os=linux --openssl-no-asm
</code></pre>
<h2 class="toc-header" id="h-4-compile-the-code"> 4. Compile the code:</h2>
<pre v-pre="true" class="prismjs line-numbers"><code class="language-">make -j$(nproc) # This may take 2-3 hours
make install PREFIX=./install
</code></pre>
<ul>
<li>The output files will be located in the './install' directory.</li>
</ul>
<h2 class="toc-header" id="h-5-copy-the-install-file-to-the-risc-v-board"> 5. Copy the 'install' file to the RISC-V board:</h2>
<pre v-pre="true" class="prismjs line-numbers"><code class="language-">scp install root@&lt;ip-address&gt;:.
</code></pre>
<h2 class="toc-header" id="h-6-copy-the-install-folder-to-usr"> 6. Copy the 'install' folder to /usr:</h2>
<pre v-pre="true" class="prismjs line-numbers"><code class="language-">cp install /usr/
</code></pre>
<h2 class="toc-header" id="h-7-add-nodejs-to-the-profile-path"> 7. Add Node.js to the profile path:</h2>
<pre v-pre="true" class="prismjs line-numbers"><code class="language-">echo 'export PATH=/usr/install/bin:$PATH' &gt;&gt; /etc/profile
</code></pre>
<h2 class="toc-header" id="h-8-test-the-nodejs-version"> 8. Test the Node.js version:</h2>
<pre v-pre="true" class="prismjs line-numbers"><code class="language-">$ node -v
</code></pre>
